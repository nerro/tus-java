dependencies {
  compile "${libraries.logback_classic}"
  compile "${libraries.netty_all}"

  testCompile "${libraries.junit}"
}

jar {
  manifest {
    attributes(
      "Main-Class": "eu.nerro.tus.server.CliMain",
      "Class-Path": configurations.getByName("compile").collect { it.name }.join(" "),
      "Implementation-Title": "TUS Java server",
      "Implementation-Vendor": "Pavel Sorokin",
      "Implementation-Version": gitCommitHash,
    )
  }
}

tasks.create(name: "copyDependencies", type: Copy) {
  description "Copies dependencies of this project to the build directory."
  from(configurations.getByName("compile"))
  into(libsDir)
}
build.dependsOn "copyDependencies"
